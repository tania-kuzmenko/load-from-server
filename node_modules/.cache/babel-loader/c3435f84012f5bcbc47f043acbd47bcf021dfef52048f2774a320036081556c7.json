{"ast":null,"code":"// #region imports\nimport React,{useState}from'react';import classNames from'classnames';import usersFromServer from'../api/users.json';// #endregion\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const PostForm=_ref=>{let{onSubmit,onReset=()=>{},post}=_ref;// #region state\nconst[title,setTitle]=useState((post===null||post===void 0?void 0:post.title)||'');const[hasTitleError,setHasTitleError]=useState(false);const[userId,setUserId]=useState((post===null||post===void 0?void 0:post.userId)||0);const[hasUserIdError,setHasUserIdError]=useState(false);const[body,setBody]=useState((post===null||post===void 0?void 0:post.body)||'');const[bodyErrorMessage,setBodyErrorMessage]=useState('');// #endregion\n// #region handlers\nconst handleTitleChange=event=>{setTitle(event.target.value);setHasTitleError(false);};const handleUserIdChange=event=>{setUserId(+event.target.value);setHasUserIdError(false);};const handleBodyChange=event=>{setBody(event.target.value);setBodyErrorMessage('');};// #endregion\n// #region submit\nconst handleSubmit=event=>{event.preventDefault();setHasTitleError(!title);setHasUserIdError(!userId);if(!body){setBodyErrorMessage('Please enter some text');}else if(body.length<5){setBodyErrorMessage('Body should have at least 5 chars');}if(!title||!userId||body.length<5){return;}onSubmit({id:(post===null||post===void 0?void 0:post.id)||0,title,body,userId});reset();};// #endregion\n// #region reset\nconst reset=()=>{setTitle('');setUserId(0);setBody('');setHasTitleError(false);setHasUserIdError(false);setBodyErrorMessage('');onReset();};// #endregion\nconst users=usersFromServer;return/*#__PURE__*/_jsxs(\"form\",{action:\"/api/posts\",method:\"POST\",onSubmit:handleSubmit,onReset:reset,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title is-5\",children:post?'Edit a post':'Create a post'}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"post-title\",children:\"Title\"}),/*#__PURE__*/_jsxs(\"div\",{className:classNames('control',{'has-icons-right':hasTitleError}),children:[/*#__PURE__*/_jsx(\"input\",{id:\"post-title\",className:classNames('input',{'is-danger':hasTitleError}),type:\"text\",placeholder:\"Enter title\",value:title,onChange:handleTitleChange}),hasTitleError&&/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle has-text-danger\"})})]}),hasTitleError&&/*#__PURE__*/_jsx(\"p\",{className:\"help is-danger\",children:\"Please enter a title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"post-user-id\",children:\"Subject\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:classNames('select',{'is-danger':hasUserIdError}),children:/*#__PURE__*/_jsxs(\"select\",{id:\"post-user-id\",value:userId,onChange:handleUserIdChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Select a user\"}),users.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user.id,children:user.name},user.id))]})}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"})})]}),hasUserIdError&&/*#__PURE__*/_jsx(\"p\",{className:\"help is-danger\",children:\"Please select a user\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Message\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"textarea\",{className:classNames('textarea',{'is-danger':bodyErrorMessage}),placeholder:\"At least 5 characters\",value:body,onChange:handleBodyChange})}),bodyErrorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"help is-danger\",children:bodyErrorMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-link\",children:post?'Save':'Create'}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"button is-link is-light\",children:\"Cancel\"})]})]});};","map":{"version":3,"names":["React","useState","classNames","usersFromServer","jsx","_jsx","jsxs","_jsxs","PostForm","_ref","onSubmit","onReset","post","title","setTitle","hasTitleError","setHasTitleError","userId","setUserId","hasUserIdError","setHasUserIdError","body","setBody","bodyErrorMessage","setBodyErrorMessage","handleTitleChange","event","target","value","handleUserIdChange","handleBodyChange","handleSubmit","preventDefault","length","id","reset","users","action","method","children","className","htmlFor","type","placeholder","onChange","map","user","name"],"sources":["C:/Users/User/Downloads/Mate/typeScriptProjects/loading_data_from_server/src/components/PostForm.tsx"],"sourcesContent":["// #region imports\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { Post } from '../types/Post';\nimport usersFromServer from '../api/users.json'\n// #endregion\n\ntype Props = {\n  onSubmit: (post: Post) => void;\n  onReset?: () => void;\n  post?: Post;\n};\n\nexport const PostForm: React.FC<Props> = ({ \n  onSubmit, \n  onReset = () => {},\n  post,\n}) => {\n  // #region state\n  const [title, setTitle] = useState(post?.title || '');\n  const [hasTitleError, setHasTitleError] = useState(false);\n\n  const [userId, setUserId] = useState(post?.userId || 0);\n  const [hasUserIdError, setHasUserIdError] = useState(false);\n  \n  const [body, setBody] = useState(post?.body || '');\n  const [bodyErrorMessage, setBodyErrorMessage] = useState('');\n  // #endregion\n  // #region handlers\n  const handleTitleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setTitle(event.target.value);\n    setHasTitleError(false);\n  };\n\n  const handleUserIdChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setUserId(+event.target.value);\n    setHasUserIdError(false);\n  };\n\n  const handleBodyChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setBody(event.target.value);\n    setBodyErrorMessage('');\n  };\n  // #endregion\n  // #region submit\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    setHasTitleError(!title);\n    setHasUserIdError(!userId);\n\n    if (!body) {\n      setBodyErrorMessage('Please enter some text');\n    } else if (body.length < 5) {\n      setBodyErrorMessage('Body should have at least 5 chars');\n    }\n\n    if (!title || !userId || body.length < 5) {\n      return;\n    }\n\n    onSubmit({\n      id: post?.id || 0,\n      title,\n      body,\n      userId,\n    });\n\n    reset();\n  };\n  // #endregion\n  // #region reset\n  const reset = () => {\n    setTitle('');\n    setUserId(0);\n    setBody('');\n\n    setHasTitleError(false);\n    setHasUserIdError(false);\n    setBodyErrorMessage('');\n\n    onReset();\n  };\n  // #endregion\n\n  const users = usersFromServer;\n\n  return (\n    <form\n      action=\"/api/posts\" \n      method=\"POST\"\n      onSubmit={handleSubmit}\n      onReset={reset}\n    >\n      <h2 className=\"title is-5\">\n        {post ? 'Edit a post' : 'Create a post'}\n      </h2>\n\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"post-title\">\n          Title\n        </label>\n\n        <div className={classNames('control', {\n          'has-icons-right': hasTitleError,\n        })}>\n          <input\n            id=\"post-title\"\n            className={classNames('input', {\n              'is-danger': hasTitleError\n            })} \n            type=\"text\" \n            placeholder=\"Enter title\" \n            value={title}\n            onChange={handleTitleChange}\n          />\n\n          {hasTitleError && (\n            <span className=\"icon is-small is-right\">\n              <i className=\"fas fa-exclamation-triangle has-text-danger\"></i>\n            </span>\n          )}\n        </div>\n\n        {hasTitleError && (\n          <p className=\"help is-danger\">Please enter a title</p>\n        )}\n      </div>\n\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"post-user-id\">\n          Subject\n        </label>\n\n        <div className=\"control has-icons-left\">\n          <div className={classNames('select', {\n            'is-danger': hasUserIdError,\n          })}>\n            <select\n              id=\"post-user-id\"\n              value={userId}\n              onChange={handleUserIdChange}\n            >\n              <option value=\"0\">Select a user</option>\n\n              {users.map(user => (\n                <option value={user.id} key={user.id}>\n                  {user.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-user\"></i>\n          </span>\n        </div>\n\n        {hasUserIdError && (\n          <p className=\"help is-danger\">Please select a user</p>\n        )}\n      </div>\n\n      <div className=\"field\">\n        <label className=\"label\">\n          Message\n        </label>\n\n        <div className=\"control\">\n          <textarea \n            className={classNames('textarea', {\n              'is-danger': bodyErrorMessage,\n            })} \n            placeholder=\"At least 5 characters\"\n            value={body}\n            onChange={handleBodyChange}\n          ></textarea>\n        </div>\n\n        {bodyErrorMessage && (\n          <p className=\"help is-danger\">{bodyErrorMessage}</p>\n        )}\n      </div>\n\n      <div className=\"buttons\">\n        <button type=\"submit\" className=\"button is-link\">\n          {post ? 'Save' : 'Create'}\n        </button>\n\n        <button type=\"reset\" className=\"button is-link is-light\">\n          Cancel\n        </button>\n      </div>\n    </form>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}